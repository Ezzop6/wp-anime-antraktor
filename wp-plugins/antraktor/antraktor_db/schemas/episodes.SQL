CREATE TABLE |DB_PREFIX|episodes (
    tmdb_episode_id INT NOT NULL PRIMARY KEY,
    tmdb_data TEXT NOT NULL,
    watch_status VARCHAR(50) NOT NULL DEFAULT 'not_started',
    watch_progress TINYINT(2) NOT NULL DEFAULT 0,
    watch_count INT NOT NULL DEFAULT 0,
    watch_first_time DATETIME DEFAULT CURRENT_TIMESTAMP NOT NULL,
    watch_last_time DATETIME DEFAULT CURRENT_TIMESTAMP NOT NULL,
    completed BOOLEAN NOT NULL DEFAULT FALSE,
    tmdb_series_id VARCHAR(20) NULL,
    tmdb_season_id INT NOT NULL,
    name VARCHAR(255) NULL,
    overview TEXT NULL,
    vote_average DOUBLE(8, 2) NULL,
    vote_count INT NULL,
    air_date DATE NULL,
    episode_number INT NULL,
    season_number INT NULL,
    production_code VARCHAR(50) NULL,
    runtime INT NULL,
    still_path VARCHAR(255) NULL,
    INDEX (tmdb_series_id),
    INDEX (tmdb_season_id),
    FOREIGN KEY (tmdb_series_id) REFERENCES |DB_PREFIX|series(tmdb_series_id),
    FOREIGN KEY (tmdb_season_id) REFERENCES |DB_PREFIX|seasons(id)
)   |DB_COLLATE|;
